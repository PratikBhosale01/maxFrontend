
<app-loader *ngIf="loader"></app-loader>

<div class="superadmin-landing-container">
  <!-- <header class="dashboard-header">
    <div class="header-content">
      <img src="assets/logo.png" alt="Logo" class="dashboard-logo" />
      <div>
        <h1>Superadmin Dashboard</h1>
        <p class="dashboard-subtitle">Welcome! Hereâ€™s your business overview at a glance.</p>
      </div>
    </div>
  </header> -->

  <section class="dashboard-cards">
    <div class="dashboard-card" (click)="navigateToPage('deposit')">
    
      <div class="dashboard-card-content">
        <div class="dashboard-card-title">Today's Deposited</div>
        <div class="dashboard-card-value">{{ todayCounts | number:'1.0-0'}}</div>
        <div class="dashboard-card-meta">{{  todayDeposit | currency:'$':'symbol':'1.0-0'  }}</div>
      </div>
    </div>
    <div class="dashboard-card" (click)="navigateToPage('withdraw')">
    
      <div class="dashboard-card-content">
        <div class="dashboard-card-title">Today's Withdraw</div>
        <div class="dashboard-card-value">{{todayWCounts | number:'1.0-0'  }}</div>
        <div class="dashboard-card-meta">{{  todayWithdraw | currency:'$':'symbol':'1.0-0' }}</div>
      </div>
    </div>
    <div class="dashboard-card" (click)="navigateToPage('users')">
     
      <div class="dashboard-card-content">
        <div class="dashboard-card-title">Today's New Client</div>
        <div class="dashboard-card-value">{{ todayClients }}</div>
        <div class="dashboard-card-meta">New Registrations</div>
      </div>
    </div>
    <div class="dashboard-card" (click)="fetchDataFromBackend()">
      
      <div class="dashboard-card-content">
        <div class="dashboard-card-title">Total Bot Users</div>
        <div class="dashboard-card-value">{{ totalusers }}</div>
        <div class="dashboard-card-meta">All Time</div>
      </div>
    </div>
  </section>

  <section class="dashboard-charts">
    <div class="dashboard-chart-panel">
      <div class="dashboard-chart-header">
        <h2>Deposits Overview</h2>
        <div>
          <button class="toggle-btn deposit-btn" (click)="showDepositBothMetrics()">Both</button>
          <button class="toggle-btn deposit-btn" (click)="showDepositCountOnly()">Count</button>
          <button class="toggle-btn deposit-btn" (click)="showDepositAmountOnly()">Amount</button>
        </div>
      </div>
      <div class="dashboard-chart-canvas">
        <canvas #depositTransactionChart></canvas>
      </div>
      <div class="dashboard-chart-stats">
        <div><strong>Total Txns:</strong> {{ depositTotalTransactions | number:'1.0-0' }}</div>
        <div><strong>Total Amount:</strong> {{ depositTotalAmount }}</div>
        <div><strong>Avg Txns/Day:</strong> {{ depositAvgTransactions | number:'1.0-0' }}</div>
        <div><strong>Avg Amount/Day:</strong> {{ depositAvgAmount }}</div>
      </div>
    </div>
    <div class="dashboard-chart-panel">
      <div class="dashboard-chart-header">
        <h2>Withdrawals Overview</h2>
        <div>
          <button class="toggle-btn" (click)="showBothMetrics()">Both</button>
          <button class="toggle-btn" (click)="showCountOnly()">Count</button>
          <button class="toggle-btn" (click)="showAmountOnly()">Amount</button>
        </div>
      </div>
      <div class="dashboard-chart-canvas">
        <canvas #transactionChart></canvas>
      </div>
      <div class="dashboard-chart-stats">
        <div><strong>Total Txns:</strong> {{ totalTransactions | number:'1.0-0' }}</div>
        <div><strong>Total Amount:</strong> {{ totalAmount }}</div>
        <div><strong>Avg Txns/Day:</strong> {{ avgTransactions | number:'1.0-0' }}</div>
        <div><strong>Avg Amount/Day:</strong> {{ avgAmount }}</div>
      </div>
    </div>
  </section>
</div>
